2025-11-04 00:03:56.099 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 00:03:56.153 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 00:03:56.223 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 00:03:56.225 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 00:03:56.228 +07:00 [INF] Hosting environment: Development
2025-11-04 00:03:56.229 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 02:48:39.063 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 02:48:39.109 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 02:48:39.171 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 02:48:39.174 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 02:48:39.176 +07:00 [INF] Hosting environment: Development
2025-11-04 02:48:39.177 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 02:49:37.254 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/status/0 - null 0
2025-11-04 02:49:37.354 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService)'
2025-11-04 02:49:37.368 +07:00 [INF] Route matched with {action = "GetPaymentsByStatus", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetPaymentsByStatus(EVChargingStation.Shared.Models.PaymentStatus) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 02:49:37.381 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-04 02:49:37.410 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService) in 37.6908ms
2025-11-04 02:49:37.413 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService)'
2025-11-04 02:49:37.416 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/status/0 - 400 null application/problem+json; charset=utf-8 162.729ms
2025-11-04 02:50:19.703 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/status/0 - null 0
2025-11-04 02:50:19.711 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService)'
2025-11-04 02:50:19.713 +07:00 [INF] Route matched with {action = "GetPaymentsByStatus", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetPaymentsByStatus(EVChargingStation.Shared.Models.PaymentStatus) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 02:50:19.720 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-04 02:50:19.722 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService) in 3.6453ms
2025-11-04 02:50:19.726 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPaymentsByStatus (PaymentService)'
2025-11-04 02:50:19.730 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/status/0 - 400 null application/problem+json; charset=utf-8 26.8213ms
2025-11-04 02:58:29.063 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 02:58:29.114 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 02:58:29.189 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 02:58:29.192 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 02:58:29.193 +07:00 [INF] Hosting environment: Development
2025-11-04 02:58:29.194 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 02:59:27.793 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5004/api/Payment/booking/12 - application/json; charset=utf-8 93
2025-11-04 02:59:27.877 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePaymentForBooking (PaymentService)'
2025-11-04 02:59:27.892 +07:00 [INF] Route matched with {action = "CreatePaymentForBooking", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] CreatePaymentForBooking(Int32, EVChargingStation.PaymentService.Controllers.CreatePaymentForBookingRequest) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 02:59:28.121 +07:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 1000), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Payments` (`Amount`, `BookingId`, `CreatedAt`, `Description`, `Method`, `PaymentNumber`, `ProcessedAt`, `Status`, `TransactionId`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-04 02:59:28.152 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'EVChargingStation.Shared.Data.PaymentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`evchargingstation_payment`.`payments`, CONSTRAINT `FK_Payments_Booking_BookingId` FOREIGN KEY (`BookingId`) REFERENCES `booking` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`evchargingstation_payment`.`payments`, CONSTRAINT `FK_Payments_Booking_BookingId` FOREIGN KEY (`BookingId`) REFERENCES `booking` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 02:59:28.184 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-11-04 02:59:28.192 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.CreatePaymentForBooking (PaymentService) in 295.3839ms
2025-11-04 02:59:28.195 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePaymentForBooking (PaymentService)'
2025-11-04 02:59:28.202 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5004/api/Payment/booking/12 - 400 null text/plain; charset=utf-8 409.3565ms
2025-11-04 03:06:37.567 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 03:06:37.614 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 03:06:37.678 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 03:06:37.681 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 03:06:37.682 +07:00 [INF] Hosting environment: Development
2025-11-04 03:06:37.683 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 03:09:36.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/index.html - null null
2025-11-04 03:09:36.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 70.2392ms
2025-11-04 03:09:36.775 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/swagger-ui.css - null null
2025-11-04 03:09:36.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/swagger-ui-standalone-preset.js - null null
2025-11-04 03:09:36.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/swagger-ui-bundle.js - null null
2025-11-04 03:09:36.793 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-11-04 03:09:36.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/swagger-ui.css - 200 143943 text/css 18.9298ms
2025-11-04 03:09:36.799 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-11-04 03:09:36.801 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 22.6345ms
2025-11-04 03:09:36.812 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-11-04 03:09:36.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 35.0204ms
2025-11-04 03:09:36.932 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-11-04 03:09:36.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/favicon-32x32.png - null null
2025-11-04 03:09:36.963 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-11-04 03:09:36.966 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/favicon-32x32.png - 200 628 image/png 7.2373ms
2025-11-04 03:09:37.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.7635ms
2025-11-04 03:18:08.746 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 03:18:08.791 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 03:18:08.851 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 03:18:08.853 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 03:18:08.854 +07:00 [INF] Hosting environment: Development
2025-11-04 03:18:08.855 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 03:18:56.839 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5004/api/Payment - application/json; charset=utf-8 147
2025-11-04 03:18:56.922 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 03:18:56.936 +07:00 [INF] Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] CreatePayment(EVChargingStation.PaymentService.Services.CreatePaymentRequest) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 03:18:57.160 +07:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 1000), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Payments` (`Amount`, `BookingId`, `CreatedAt`, `Description`, `Method`, `PaymentNumber`, `ProcessedAt`, `Status`, `TransactionId`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-04 03:18:57.184 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'EVChargingStation.Shared.Data.PaymentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`evchargingstation_payment`.`payments`, CONSTRAINT `FK_Payments_Booking_BookingId` FOREIGN KEY (`BookingId`) REFERENCES `booking` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`evchargingstation_payment`.`payments`, CONSTRAINT `FK_Payments_Booking_BookingId` FOREIGN KEY (`BookingId`) REFERENCES `booking` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 03:18:57.219 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-11-04 03:18:57.225 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService) in 284.6816ms
2025-11-04 03:18:57.228 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 03:18:57.235 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5004/api/Payment - 400 null text/plain; charset=utf-8 397.7694ms
2025-11-04 03:49:20.912 +07:00 [INF] üóëÔ∏è Deleting old database...
2025-11-04 03:49:21.647 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE `EVChargingStation_Payment`;
2025-11-04 03:49:21.663 +07:00 [INF] ‚úÖ Creating new database with updated schema...
2025-11-04 03:49:21.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `EVChargingStation_Payment`;
2025-11-04 03:49:21.947 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-11-04 03:49:21.956 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Payments` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` int NOT NULL,
    `BookingId` int NOT NULL,
    `PaymentNumber` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Amount` decimal(18,2) NOT NULL,
    `Method` int NOT NULL,
    `Status` int NOT NULL,
    `TransactionId` varchar(500) CHARACTER SET utf8mb4 NULL,
    `Description` varchar(1000) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NOT NULL,
    `ProcessedAt` datetime(6) NULL,
    CONSTRAINT `PK_Payments` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-11-04 03:49:21.965 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Wallets` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` int NOT NULL,
    `Balance` decimal(18,2) NOT NULL,
    `TotalDeposited` decimal(18,2) NOT NULL,
    `TotalSpent` decimal(18,2) NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    `UpdatedAt` datetime(6) NULL,
    CONSTRAINT `PK_Wallets` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-11-04 03:49:21.985 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `WalletTransactions` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `WalletId` int NOT NULL,
    `Amount` decimal(18,2) NOT NULL,
    `Type` int NOT NULL,
    `Description` varchar(500) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_WalletTransactions` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_WalletTransactions_Wallets_WalletId` FOREIGN KEY (`WalletId`) REFERENCES `Wallets` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-11-04 03:49:21.999 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_Payments_PaymentNumber` ON `Payments` (`PaymentNumber`);
2025-11-04 03:49:22.015 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_WalletTransactions_WalletId` ON `WalletTransactions` (`WalletId`);
2025-11-04 03:49:22.020 +07:00 [INF] ‚úÖ Database recreated successfully! Navigation properties are now ignored.
2025-11-04 03:49:22.036 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 03:49:22.109 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 03:49:22.112 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 03:49:22.113 +07:00 [INF] Hosting environment: Development
2025-11-04 03:49:22.114 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 03:50:06.004 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5004/api/Payment - application/json; charset=utf-8 147
2025-11-04 03:50:06.082 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 03:50:06.096 +07:00 [INF] Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] CreatePayment(EVChargingStation.PaymentService.Services.CreatePaymentRequest) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 03:50:06.304 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 1000), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Payments` (`Amount`, `BookingId`, `CreatedAt`, `Description`, `Method`, `PaymentNumber`, `ProcessedAt`, `Status`, `TransactionId`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-04 03:50:06.333 +07:00 [INF] Payment created successfully: PAY202511032050061214
2025-11-04 03:50:06.339 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 03:50:06.399 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService) in 297.0482ms
2025-11-04 03:50:06.402 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 03:50:06.408 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5004/api/Payment - 201 null application/json; charset=utf-8 404.8419ms
2025-11-04 03:50:15.778 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 03:50:15.788 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:50:15.793 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 03:50:16.014 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 03:50:16.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 03:50:16.027 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 230.5194ms
2025-11-04 03:50:16.029 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:50:16.031 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 253.0508ms
2025-11-04 03:55:00.037 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 03:55:00.045 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:55:00.046 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 03:55:00.064 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 03:55:00.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 03:55:00.070 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 21.3975ms
2025-11-04 03:55:00.073 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:55:00.075 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 37.9434ms
2025-11-04 03:59:57.588 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 03:59:57.593 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:59:57.596 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 03:59:57.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 03:59:57.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 03:59:57.610 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 10.5058ms
2025-11-04 03:59:57.612 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 03:59:57.614 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 26.6098ms
2025-11-04 04:03:01.168 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 04:03:01.172 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:03:01.173 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 04:03:01.178 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 04:03:01.181 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 04:03:01.183 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 6.5561ms
2025-11-04 04:03:01.186 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:03:01.190 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 22.2059ms
2025-11-04 04:05:05.798 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 04:05:05.802 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:05:05.804 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 04:05:05.808 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 04:05:05.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 04:05:05.816 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 9.2948ms
2025-11-04 04:05:05.818 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:05:05.819 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 20.7561ms
2025-11-04 04:09:40.274 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 04:09:40.278 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:09:40.281 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 04:09:40.295 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 04:09:40.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 04:09:40.306 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 16.6378ms
2025-11-04 04:09:40.308 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:09:40.310 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 36.4962ms
2025-11-04 04:22:39.354 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 04:22:39.364 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:22:39.371 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 04:22:39.381 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 04:22:39.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 04:22:39.389 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 12.2411ms
2025-11-04 04:22:39.391 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 04:22:39.393 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 39.2218ms
2025-11-04 09:42:04.934 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 09:42:04.999 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 09:42:05.077 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 09:42:05.080 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 09:42:05.081 +07:00 [INF] Hosting environment: Development
2025-11-04 09:42:05.082 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 09:58:04.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/index.html - null null
2025-11-04 09:58:05.082 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 261.3241ms
2025-11-04 09:58:05.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-11-04 09:58:05.449 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 282.0647ms
2025-11-04 10:11:09.161 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 10:11:09.229 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 10:11:09.288 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.
To generate a developer certificate run 'dotnet dev-certs https'. To trust the certificate (Windows and macOS only) run 'dotnet dev-certs https --trust'.
For more information on configuring HTTPS see https://go.microsoft.com/fwlink/?linkid=848054.
   at Microsoft.AspNetCore.Hosting.ListenOptionsHttpsExtensions.UseHttps(ListenOptions listenOptions, Action`1 configureOptions)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-11-04 10:12:31.446 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 10:12:31.537 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 10:12:31.597 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.
To generate a developer certificate run 'dotnet dev-certs https'. To trust the certificate (Windows and macOS only) run 'dotnet dev-certs https --trust'.
For more information on configuring HTTPS see https://go.microsoft.com/fwlink/?linkid=848054.
   at Microsoft.AspNetCore.Hosting.ListenOptionsHttpsExtensions.UseHttps(ListenOptions listenOptions, Action`1 configureOptions)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-11-04 10:16:34.852 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 10:16:34.928 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 10:16:34.982 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.
To generate a developer certificate run 'dotnet dev-certs https'. To trust the certificate (Windows and macOS only) run 'dotnet dev-certs https --trust'.
For more information on configuring HTTPS see https://go.microsoft.com/fwlink/?linkid=848054.
   at Microsoft.AspNetCore.Hosting.ListenOptionsHttpsExtensions.UseHttps(ListenOptions listenOptions, Action`1 configureOptions)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-11-04 10:19:54.505 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 10:19:54.640 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 10:19:54.771 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 10:19:54.774 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 10:19:54.776 +07:00 [INF] Hosting environment: Development
2025-11-04 10:19:54.778 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 10:20:41.553 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 10:20:41.835 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:20:41.862 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 10:20:42.386 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 10:20:42.549 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 10:20:42.719 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 844.5562ms
2025-11-04 10:20:42.729 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:20:42.758 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 1207.2185ms
2025-11-04 10:24:16.867 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 10:24:16.902 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:24:16.911 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 10:24:17.141 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 10:24:17.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 10:24:17.164 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 229.3196ms
2025-11-04 10:24:17.172 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:24:17.179 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 312.4908ms
2025-11-04 10:25:02.095 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5004/api/Payment - application/json; charset=utf-8 147
2025-11-04 10:25:02.117 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 10:25:02.139 +07:00 [INF] Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] CreatePayment(EVChargingStation.PaymentService.Services.CreatePaymentRequest) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 10:25:02.483 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 1000), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Payments` (`Amount`, `BookingId`, `CreatedAt`, `Description`, `Method`, `PaymentNumber`, `ProcessedAt`, `Status`, `TransactionId`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-04 10:25:02.589 +07:00 [INF] Payment created successfully: PAY202511040325026861
2025-11-04 10:25:02.597 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 10:25:02.643 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService) in 497.3434ms
2025-11-04 10:25:02.649 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.CreatePayment (PaymentService)'
2025-11-04 10:25:02.658 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5004/api/Payment - 201 null application/json; charset=utf-8 562.7956ms
2025-11-04 10:28:06.741 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 10:28:06.760 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:28:06.768 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 10:28:06.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 10:28:06.828 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 10:28:06.843 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 48.3297ms
2025-11-04 10:28:06.852 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 10:28:06.868 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 126.9899ms
2025-11-04 10:32:45.612 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - null 0
2025-11-04 10:32:45.631 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 10:32:45.666 +07:00 [INF] Route matched with {action = "GetWalletBalance", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Decimal]] GetWalletBalance(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 10:32:45.805 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 10:32:45.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2025-11-04 10:32:45.820 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService) in 135.6833ms
2025-11-04 10:32:45.823 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 10:32:45.827 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - 200 null application/json; charset=utf-8 214.9885ms
2025-11-04 10:32:45.865 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - null 0
2025-11-04 10:32:45.871 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 10:32:45.877 +07:00 [INF] Route matched with {action = "GetWalletTransactions", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.WalletTransaction]]] GetWalletTransactions(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 10:32:45.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 10:32:45.901 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.WalletTransaction, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 10:32:45.918 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService) in 29.8662ms
2025-11-04 10:32:45.923 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 10:32:45.929 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - 200 null application/json; charset=utf-8 63.1113ms
2025-11-04 15:24:45.020 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 15:24:45.068 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 15:24:45.127 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 15:24:45.130 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 15:24:45.131 +07:00 [INF] Hosting environment: Development
2025-11-04 15:24:45.132 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 16:20:45.934 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - null 0
2025-11-04 16:20:47.532 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 16:20:47.550 +07:00 [INF] Route matched with {action = "GetWalletBalance", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Decimal]] GetWalletBalance(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 16:20:47.851 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 16:20:47.866 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2025-11-04 16:20:47.881 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService) in 325.6382ms
2025-11-04 16:20:47.884 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 16:20:47.890 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - 200 null application/json; charset=utf-8 1957.6256ms
2025-11-04 16:20:47.916 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - null 0
2025-11-04 16:20:47.924 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 16:20:47.931 +07:00 [INF] Route matched with {action = "GetWalletTransactions", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.WalletTransaction]]] GetWalletTransactions(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 16:20:47.991 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 16:20:47.996 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.WalletTransaction, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 16:20:48.052 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService) in 113.3214ms
2025-11-04 16:20:48.055 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 16:20:48.057 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - 200 null application/json; charset=utf-8 140.7313ms
2025-11-04 16:24:09.486 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment - null 0
2025-11-04 16:24:09.498 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 16:24:09.507 +07:00 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetAllPayments() on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 16:24:09.539 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 16:24:09.593 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 16:24:09.602 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService) in 87.5358ms
2025-11-04 16:24:09.605 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetAllPayments (PaymentService)'
2025-11-04 16:24:09.606 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment - 200 null application/json; charset=utf-8 120.3015ms
2025-11-04 16:25:14.268 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - null 0
2025-11-04 16:25:14.272 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 16:25:14.274 +07:00 [INF] Route matched with {action = "GetWalletBalance", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Decimal]] GetWalletBalance(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 16:25:14.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 16:25:14.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2025-11-04 16:25:14.288 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService) in 10.8977ms
2025-11-04 16:25:14.290 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletBalance (PaymentService)'
2025-11-04 16:25:14.293 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/balance/5 - 200 null application/json; charset=utf-8 25.04ms
2025-11-04 16:25:14.311 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - null 0
2025-11-04 16:25:14.316 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 16:25:14.318 +07:00 [INF] Route matched with {action = "GetWalletTransactions", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.WalletTransaction]]] GetWalletTransactions(Int32) on controller EVChargingStation.PaymentService.Controllers.WalletController (PaymentService).
2025-11-04 16:25:14.323 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Balance`, `w`.`CreatedAt`, `w`.`IsActive`, `w`.`TotalDeposited`, `w`.`TotalSpent`, `w`.`UpdatedAt`, `w`.`UserId`
FROM `Wallets` AS `w`
WHERE (`w`.`UserId` = @__userId_0) AND `w`.`IsActive`
LIMIT 1
2025-11-04 16:25:14.326 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.WalletTransaction, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 16:25:14.330 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService) in 8.6932ms
2025-11-04 16:25:14.333 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.WalletController.GetWalletTransactions (PaymentService)'
2025-11-04 16:25:14.335 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Wallet/transactions/5 - 200 null application/json; charset=utf-8 23.5713ms
2025-11-04 19:14:52.904 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'EVChargingStation_Payment'
2025-11-04 19:14:53.899 +07:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-04 19:14:54.608 +07:00 [INF] Now listening on: https://localhost:5004
2025-11-04 19:14:54.759 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 19:14:54.775 +07:00 [INF] Hosting environment: Development
2025-11-04 19:14:54.776 +07:00 [INF] Content root path: D:\Download\HeThongQuanLyTramSac\HeThongQuanLyTramSac\src\services\PaymentService
2025-11-04 19:15:49.868 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - null 0
2025-11-04 19:15:50.126 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:15:50.163 +07:00 [INF] Route matched with {action = "GetUserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetUserPayments(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:15:50.740 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`UserId` = @__userId_0
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 19:15:50.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 19:15:51.031 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService) in 857.6432ms
2025-11-04 19:15:51.037 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:15:51.052 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - 200 null application/json; charset=utf-8 1187.9754ms
2025-11-04 19:16:37.583 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/2 - null 0
2025-11-04 19:16:37.607 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:16:37.623 +07:00 [INF] Route matched with {action = "GetPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] GetPayment(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:16:37.795 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-11-04 19:16:37.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 19:16:37.812 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService) in 178.7787ms
2025-11-04 19:16:37.820 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:16:37.824 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/2 - 200 null application/json; charset=utf-8 241.2257ms
2025-11-04 19:16:44.315 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/1 - null 0
2025-11-04 19:16:44.345 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:16:44.355 +07:00 [INF] Route matched with {action = "GetPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] GetPayment(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:16:44.402 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-11-04 19:16:44.422 +07:00 [INF] Executing OkObjectResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 19:16:44.427 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService) in 52.9301ms
2025-11-04 19:16:44.438 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:16:44.445 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/1 - 200 null application/json; charset=utf-8 130.1098ms
2025-11-04 19:18:33.073 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/2 - null 0
2025-11-04 19:18:33.093 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:33.108 +07:00 [INF] Route matched with {action = "GetPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] GetPayment(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:18:33.143 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-11-04 19:18:33.177 +07:00 [INF] Executing OkObjectResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 19:18:33.188 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService) in 54.2511ms
2025-11-04 19:18:33.204 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:33.217 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/2 - 200 null application/json; charset=utf-8 144.2899ms
2025-11-04 19:18:42.391 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/2 - null 0
2025-11-04 19:18:42.403 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:42.409 +07:00 [INF] Route matched with {action = "GetPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] GetPayment(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:18:42.430 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-11-04 19:18:42.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 19:18:42.456 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService) in 30.6988ms
2025-11-04 19:18:42.467 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:42.474 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/2 - 200 null application/json; charset=utf-8 82.8537ms
2025-11-04 19:18:45.667 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/1 - null 0
2025-11-04 19:18:45.686 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:45.695 +07:00 [INF] Route matched with {action = "GetPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EVChargingStation.Shared.Models.Payment]] GetPayment(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:18:45.730 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-11-04 19:18:45.757 +07:00 [INF] Executing OkObjectResult, writing value of type 'EVChargingStation.Shared.Models.Payment'.
2025-11-04 19:18:45.772 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService) in 49.3458ms
2025-11-04 19:18:45.789 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetPayment (PaymentService)'
2025-11-04 19:18:45.805 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/1 - 200 null application/json; charset=utf-8 137.699ms
2025-11-04 19:19:04.266 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - null 0
2025-11-04 19:19:04.286 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:19:04.295 +07:00 [INF] Route matched with {action = "GetUserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetUserPayments(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:19:04.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`UserId` = @__userId_0
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 19:19:04.324 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 19:19:04.329 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService) in 20.5243ms
2025-11-04 19:19:04.335 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:19:04.342 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - 200 null application/json; charset=utf-8 76.0508ms
2025-11-04 19:20:55.087 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - null 0
2025-11-04 19:20:55.099 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:20:55.105 +07:00 [INF] Route matched with {action = "GetUserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetUserPayments(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 19:20:55.125 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`UserId` = @__userId_0
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 19:20:55.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 19:20:55.152 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService) in 31.2406ms
2025-11-04 19:20:55.159 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 19:20:55.168 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - 200 null application/json; charset=utf-8 80.0322ms
2025-11-04 20:01:13.086 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - null 0
2025-11-04 20:01:13.091 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 20:01:13.098 +07:00 [INF] Route matched with {action = "GetUserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetUserPayments(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 20:01:13.114 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`UserId` = @__userId_0
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 20:01:13.121 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 20:01:13.123 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService) in 20.3157ms
2025-11-04 20:01:13.125 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 20:01:13.127 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - 200 null application/json; charset=utf-8 41.2979ms
2025-11-04 20:01:34.003 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - null 0
2025-11-04 20:01:34.010 +07:00 [INF] Executing endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 20:01:34.012 +07:00 [INF] Route matched with {action = "GetUserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EVChargingStation.Shared.Models.Payment]]] GetUserPayments(Int32) on controller EVChargingStation.PaymentService.Controllers.PaymentController (PaymentService).
2025-11-04 20:01:34.018 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`BookingId`, `p`.`CreatedAt`, `p`.`Description`, `p`.`Method`, `p`.`PaymentNumber`, `p`.`ProcessedAt`, `p`.`Status`, `p`.`TransactionId`, `p`.`UserId`
FROM `Payments` AS `p`
WHERE `p`.`UserId` = @__userId_0
ORDER BY `p`.`CreatedAt` DESC
2025-11-04 20:01:34.026 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EVChargingStation.Shared.Models.Payment, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 20:01:34.029 +07:00 [INF] Executed action EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService) in 12.4066ms
2025-11-04 20:01:34.031 +07:00 [INF] Executed endpoint 'EVChargingStation.PaymentService.Controllers.PaymentController.GetUserPayments (PaymentService)'
2025-11-04 20:01:34.033 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/Payment/user/5 - 200 null application/json; charset=utf-8 29.5444ms
